<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Administra√ß√£o - Login</title>

    <!-- √çcone e CSS padr√£o do site -->
    <link rel="shortcut icon" href="images/barco2.png" type="image/x-icon" />
    <link rel="stylesheet" href="css/default.css" />

    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        crossorigin="anonymous">

    <style>
        .login-container {
            max-width: 400px;
            margin-top: 100px;
            padding: 20px;
            border: 1px solid #ccc;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            background: #fff;
        }

        /* Corpo da p√°gina ocupa toda a altura da tela */
        html,
        body {
            height: 100%;
            margin: 0;
            padding: 0;
        }

        /* Estrutura principal como flex */
        body {
            display: flex;
            flex-direction: column;
        }

        .page {
            flex: 1;
            /* faz o main crescer para ocupar espa√ßo */
        }

        main {
            min-height: 70vh;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        footer {
            background: #f1f1f1;
            text-align: center;
            padding: 15px 0;
        }
    </style>
</head>

<body>

    <div class="page">

        <!-- ======= HEADER IGUAL AO CONTATO ======= -->
        <header>
            <div id="title">
                <img src="images/barco1.png" alt="√≠cone de barco" />
                <div class="headtitle">
                    <h1>Luxo</h1>
                    <h2>Aluguel de iates</h2>
                </div>
            </div>

            <nav>
                <ul class="navmenu">
                    <li><a href="index.html">P√°gina inicial</a></li>
                    <li><a href="aluguel.html">Aluguel de iates</a></li>
                    <li><a href="destinos.html">Destinos</a></li>
                    <li><a href="tripulacao.html">Tripula√ß√£o</a></li>
                    <li><a href="contato.html" class="accent">Contato</a></li>

                    <!-- BOT√ÉO NOVO -->
                    <li><a href="admin.html">Admin</a></li>
                </ul>
            </nav>
        </header>
        <!-- ======================================= -->

        <!-- CONTE√öDO DA P√ÅGINA DE LOGIN -->
        <main>
            <div class="container d-flex justify-content-center align-items-center" style="min-height: 70vh;">
                <div class="login-container">
                    <h2 class="mb-4 text-center">üîë Login de Administra√ß√£o</h2>

                    <form id="formLogin">
                        <div class="mb-3">
                            <label for="loginEmail" class="form-label">E-mail</label>
                            <input type="email" class="form-control" id="loginEmail" required autocomplete="off">
                        </div>

                        <div class="mb-3">
                            <label for="loginSenha" class="form-label">Senha</label>
                            <input type="password" class="form-control" id="loginSenha" required autocomplete="off">
                        </div>

                        <button type="submit" class="btn btn-success w-100">Entrar</button>
                    </form>

                    <p id="mensagemErro" class="text-danger mt-3 text-center"></p>

                    <p class="mt-3 text-center">
                        <a href="index.html">Voltar ao In√≠cio</a> |
                        <a href="cadastro.html">Cadastrar Novo Acesso</a>
                    </p>
                </div>
            </div>
        </main>


    </div>

    <!-- ======= FOOTER IGUAL AO CONTATO ======= -->
    <footer>
        <p>¬© 2023 por Luxo aluguel de iates</p>
    </footer>
    <!-- ======================================= -->

    <!-- JS -->
    <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
    <script src="js/api.js"></script>

    <script>
        $(document).ready(function () {

            $('#loginEmail').val('');
            $('#loginSenha').val('');

            $('#formLogin').submit(function (event) {
                event.preventDefault();

                var email = $('#loginEmail').val().trim();
                var senha = $('#loginSenha').val().trim();

                var objLoginSenha = { email: email, senha: senha };

                try {
                    var autenticado = validarUsuario(objLoginSenha);

                    if (autenticado) {
                        window.location.href = "mensagens.html";
                    } else {
                        $('#mensagemErro').text(
                            "E-mail e senha inv√°lidos, ou sua conta ainda n√£o foi aprovada pelo administrador."
                        );
                    }
                } catch (error) {
                    console.error("Erro na autentica√ß√£o:", error);
                    $('#mensagemErro').text("Erro ao tentar autenticar.");
                }
            });
        });
    </script>

</body>

</html>